ISO/IEC 10746

### 1) Visão de Negócio (Enterprise)

- **Propósito**: aumentar conversão com cupons.
- **Atores**: Cliente, Marketing, Financeiro, Atendimento.
- **Políticas**: política de desconto, antifraude, LGPD, faturamento fiscal.
- **Processos**: definir regras, publicar cupons, checkout, auditoria.

### 2) Visão de Informação (Information)

- **Conceitos**: Cliente, Produto, Categoria, Pedido, Item_Pedido, Cupom, RegraCupom, LogCupom.
- **Invariantes**:
    - Código de cupom é único.
    - Cupom válido se `ativo = true` e `hoje ≤ validade`.
    - Desconto não excede subtotal aplicável.
- **Estados**: Pedido {CRIOU, PAGO, ENVIADO}; Cupom {ATIVO, EXPIRADO, SUSPENSO}.
- **Restrições**: LGPD para dados pessoais; trilhas de auditoria para cupom.

### 3) Visão Computacional (Computational)

- **Interfaces/serviços**:
    - `CatalogService`: listar produtos/categorias.
    - `CouponService`: CRUD cupom, validar/aplicar.
    - `OrderService`: criar pedido, adicionar item, finalizar.
    - `PaymentService`: autorização/captura.
    - `AuditService`: registrar uso de cupom.
- **Contratos**: idempotência em `applyCoupon`, timeout de 2 s, erros tipados.

### 4) Visão de Engenharia (Engineering)

- **Distribuição**: front web, backend API, banco relacional, cache.
- **Canais**: HTTP/REST, mensageria para auditoria assíncrona.
- **Infra**: balanceador, autoscaling do backend, cache Redis para cupons populares.
- **Qualidade**: p95 < 400 ms checkout; observabilidade (logs, métricas, traces).

### 5) Visão Tecnológica (Technology)

- **Stack sugerida**:
    - Backend: Node.js/Java/.NET; REST + OpenAPI.
    - DB: PostgreSQL; índices por `codigo`, `validade_ate`, `pedido_id`.
    - Cache: Redis; Mensageria: Kafka/RabbitMQ.
    - Auth: OAuth2/OIDC; LGPD: criptografia em repouso e trânsito.
    - CI/CD: GitHub Actions; Contêineres: Docker/K8s.### 1) Visão de Negócio (Enterprise)

